"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
require("core-js/modules/es.array.iterator.js");
require("core-js/modules/es.promise.js");
var _moment = _interopRequireDefault(require("moment"));
var _debug = require("../helpers/debug");
var _elementsInteractions = require("../helpers/elements-interactions");
var _fetch = require("../helpers/fetch");
var _waiting = require("../helpers/waiting");
var _transactions = require("../transactions");
var _baseScraperWithBrowser = require("./base-scraper-with-browser");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
const BASE_URL = 'https://www.behatsdaa.org.il';
const LOGIN_URL = `${BASE_URL}/login`;
const PURCHASE_HISTORY_URL = 'https://back.behatsdaa.org.il/api/purchases/purchaseHistory';
const debug = (0, _debug.getDebug)('behatsdaa');
function variantToTransaction(variant) {
  // The price is positive, make it negative as it's an expense
  const originalAmount = -variant.customerPrice;
  return {
    type: _transactions.TransactionTypes.Normal,
    identifier: variant.tTransactionID,
    date: (0, _moment.default)(variant.orderDate).format('YYYY-MM-DD'),
    processedDate: (0, _moment.default)(variant.orderDate).format('YYYY-MM-DD'),
    originalAmount,
    originalCurrency: 'ILS',
    chargedAmount: originalAmount,
    chargedCurrency: 'ILS',
    description: variant.name,
    status: _transactions.TransactionStatuses.Completed,
    memo: variant.variantName
  };
}
class BehatsdaaScraper extends _baseScraperWithBrowser.BaseScraperWithBrowser {
  getLoginOptions(credentials) {
    return {
      loginUrl: LOGIN_URL,
      fields: [{
        selector: '#loginId',
        value: credentials.id
      }, {
        selector: '#loginPassword',
        value: credentials.password
      }],
      checkReadiness: async () => {
        await Promise.all([(0, _elementsInteractions.waitUntilElementFound)(this.page, '#loginPassword'), (0, _elementsInteractions.waitUntilElementFound)(this.page, '#loginId')]);
      },
      possibleResults: {
        [_baseScraperWithBrowser.LoginResults.Success]: [`${BASE_URL}/`],
        [_baseScraperWithBrowser.LoginResults.InvalidPassword]: ['.custom-input-error-label']
      },
      submitButtonSelector: async () => {
        await (0, _waiting.sleep)(1000);
        debug('Trying to find submit button');
        const button = await this.page.$('xpath=//button[contains(., "התחברות")]');
        if (button) {
          debug('Submit button found');
          await button.click();
        } else {
          debug('Submit button not found');
        }
      }
    };
  }
  async fetchData() {
    var _res$data;
    const token = await this.page.evaluate(() => window.localStorage.getItem('userToken'));
    if (!token) {
      debug('Token not found in local storage');
      return {
        success: false,
        errorMessage: 'TokenNotFound'
      };
    }
    const body = {
      FromDate: (0, _moment.default)(this.options.startDate).format('YYYY-MM-DDTHH:mm:ss'),
      ToDate: (0, _moment.default)().format('YYYY-MM-DDTHH:mm:ss'),
      BenefitStatusId: null
    };
    debug('Fetching data');
    const res = await (0, _fetch.fetchPostWithinPage)(this.page, PURCHASE_HISTORY_URL, body, {
      'authorization': `Bearer ${token}`,
      'Content-Type': 'application/json',
      'organizationid': '20'
    });
    debug('Data fetched');
    if (res !== null && res !== void 0 && res.errorDescription || res !== null && res !== void 0 && (_res$data = res.data) !== null && _res$data !== void 0 && _res$data.errorDescription) {
      var _res$data2;
      debug('Error fetching data', res.errorDescription || ((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.errorDescription));
      return {
        success: false,
        errorMessage: res.errorDescription
      };
    }
    if (!(res !== null && res !== void 0 && res.data)) {
      debug('No data found');
      return {
        success: false,
        errorMessage: 'NoData'
      };
    }
    debug('Data fetched successfully');
    return {
      success: true,
      accounts: [{
        accountNumber: res.data.memberId,
        txns: res.data.variants.map(variantToTransaction)
      }]
    };
  }
}
var _default = exports.default = BehatsdaaScraper;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9tZW50IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZGVidWciLCJfZWxlbWVudHNJbnRlcmFjdGlvbnMiLCJfZmV0Y2giLCJfd2FpdGluZyIsIl90cmFuc2FjdGlvbnMiLCJfYmFzZVNjcmFwZXJXaXRoQnJvd3NlciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkJBU0VfVVJMIiwiTE9HSU5fVVJMIiwiUFVSQ0hBU0VfSElTVE9SWV9VUkwiLCJkZWJ1ZyIsImdldERlYnVnIiwidmFyaWFudFRvVHJhbnNhY3Rpb24iLCJ2YXJpYW50Iiwib3JpZ2luYWxBbW91bnQiLCJjdXN0b21lclByaWNlIiwidHlwZSIsIlRyYW5zYWN0aW9uVHlwZXMiLCJOb3JtYWwiLCJpZGVudGlmaWVyIiwidFRyYW5zYWN0aW9uSUQiLCJkYXRlIiwibW9tZW50Iiwib3JkZXJEYXRlIiwiZm9ybWF0IiwicHJvY2Vzc2VkRGF0ZSIsIm9yaWdpbmFsQ3VycmVuY3kiLCJjaGFyZ2VkQW1vdW50IiwiY2hhcmdlZEN1cnJlbmN5IiwiZGVzY3JpcHRpb24iLCJuYW1lIiwic3RhdHVzIiwiVHJhbnNhY3Rpb25TdGF0dXNlcyIsIkNvbXBsZXRlZCIsIm1lbW8iLCJ2YXJpYW50TmFtZSIsIkJlaGF0c2RhYVNjcmFwZXIiLCJCYXNlU2NyYXBlcldpdGhCcm93c2VyIiwiZ2V0TG9naW5PcHRpb25zIiwiY3JlZGVudGlhbHMiLCJsb2dpblVybCIsImZpZWxkcyIsInNlbGVjdG9yIiwidmFsdWUiLCJpZCIsInBhc3N3b3JkIiwiY2hlY2tSZWFkaW5lc3MiLCJQcm9taXNlIiwiYWxsIiwid2FpdFVudGlsRWxlbWVudEZvdW5kIiwicGFnZSIsInBvc3NpYmxlUmVzdWx0cyIsIkxvZ2luUmVzdWx0cyIsIlN1Y2Nlc3MiLCJJbnZhbGlkUGFzc3dvcmQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsInNsZWVwIiwiYnV0dG9uIiwiJCIsImNsaWNrIiwiZmV0Y2hEYXRhIiwiX3JlcyRkYXRhIiwidG9rZW4iLCJldmFsdWF0ZSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdWNjZXNzIiwiZXJyb3JNZXNzYWdlIiwiYm9keSIsIkZyb21EYXRlIiwib3B0aW9ucyIsInN0YXJ0RGF0ZSIsIlRvRGF0ZSIsIkJlbmVmaXRTdGF0dXNJZCIsInJlcyIsImZldGNoUG9zdFdpdGhpblBhZ2UiLCJlcnJvckRlc2NyaXB0aW9uIiwiZGF0YSIsIl9yZXMkZGF0YTIiLCJhY2NvdW50cyIsImFjY291bnROdW1iZXIiLCJtZW1iZXJJZCIsInR4bnMiLCJ2YXJpYW50cyIsIm1hcCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zY3JhcGVycy9iZWhhdHNkYWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgZ2V0RGVidWcgfSBmcm9tICcuLi9oZWxwZXJzL2RlYnVnJztcbmltcG9ydCB7IHdhaXRVbnRpbEVsZW1lbnRGb3VuZCB9IGZyb20gJy4uL2hlbHBlcnMvZWxlbWVudHMtaW50ZXJhY3Rpb25zJztcbmltcG9ydCB7IGZldGNoUG9zdFdpdGhpblBhZ2UgfSBmcm9tICcuLi9oZWxwZXJzL2ZldGNoJztcbmltcG9ydCB7IHNsZWVwIH0gZnJvbSAnLi4vaGVscGVycy93YWl0aW5nJztcbmltcG9ydCB7IHR5cGUgVHJhbnNhY3Rpb24sIFRyYW5zYWN0aW9uU3RhdHVzZXMsIFRyYW5zYWN0aW9uVHlwZXMgfSBmcm9tICcuLi90cmFuc2FjdGlvbnMnO1xuaW1wb3J0IHsgQmFzZVNjcmFwZXJXaXRoQnJvd3NlciwgdHlwZSBMb2dpbk9wdGlvbnMsIExvZ2luUmVzdWx0cyB9IGZyb20gJy4vYmFzZS1zY3JhcGVyLXdpdGgtYnJvd3Nlcic7XG5pbXBvcnQgeyB0eXBlIFNjcmFwZXJTY3JhcGluZ1Jlc3VsdCB9IGZyb20gJy4vaW50ZXJmYWNlJztcblxuY29uc3QgQkFTRV9VUkwgPSAnaHR0cHM6Ly93d3cuYmVoYXRzZGFhLm9yZy5pbCc7XG5jb25zdCBMT0dJTl9VUkwgPSBgJHtCQVNFX1VSTH0vbG9naW5gO1xuY29uc3QgUFVSQ0hBU0VfSElTVE9SWV9VUkwgPSAnaHR0cHM6Ly9iYWNrLmJlaGF0c2RhYS5vcmcuaWwvYXBpL3B1cmNoYXNlcy9wdXJjaGFzZUhpc3RvcnknO1xuXG5jb25zdCBkZWJ1ZyA9IGdldERlYnVnKCdiZWhhdHNkYWEnKTtcblxudHlwZSBTY3JhcGVyU3BlY2lmaWNDcmVkZW50aWFscyA9IHsgaWQ6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyB9O1xuXG50eXBlIFZhcmlhbnQgPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgdmFyaWFudE5hbWU6IHN0cmluZztcbiAgY3VzdG9tZXJQcmljZTogbnVtYmVyO1xuICBvcmRlckRhdGU6IHN0cmluZzsgLy8gSVNPIHRpbWVzdGFtcCB3aXRoIG5vIHRpbWV6b25lXG4gIHRUcmFuc2FjdGlvbklEOiBzdHJpbmc7XG59O1xuXG50eXBlIFB1cmNoYXNlSGlzdG9yeVJlc3BvbnNlID0ge1xuICBkYXRhPzoge1xuICAgIGVycm9yRGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gICAgbWVtYmVySWQ6IHN0cmluZztcbiAgICB2YXJpYW50czogVmFyaWFudFtdO1xuICB9O1xuICBlcnJvckRlc2NyaXB0aW9uPzogc3RyaW5nO1xufTtcblxuZnVuY3Rpb24gdmFyaWFudFRvVHJhbnNhY3Rpb24odmFyaWFudDogVmFyaWFudCk6IFRyYW5zYWN0aW9uIHtcbiAgLy8gVGhlIHByaWNlIGlzIHBvc2l0aXZlLCBtYWtlIGl0IG5lZ2F0aXZlIGFzIGl0J3MgYW4gZXhwZW5zZVxuICBjb25zdCBvcmlnaW5hbEFtb3VudCA9IC12YXJpYW50LmN1c3RvbWVyUHJpY2U7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVHJhbnNhY3Rpb25UeXBlcy5Ob3JtYWwsXG4gICAgaWRlbnRpZmllcjogdmFyaWFudC50VHJhbnNhY3Rpb25JRCxcbiAgICBkYXRlOiBtb21lbnQodmFyaWFudC5vcmRlckRhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLFxuICAgIHByb2Nlc3NlZERhdGU6IG1vbWVudCh2YXJpYW50Lm9yZGVyRGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyksXG4gICAgb3JpZ2luYWxBbW91bnQsXG4gICAgb3JpZ2luYWxDdXJyZW5jeTogJ0lMUycsXG4gICAgY2hhcmdlZEFtb3VudDogb3JpZ2luYWxBbW91bnQsXG4gICAgY2hhcmdlZEN1cnJlbmN5OiAnSUxTJyxcbiAgICBkZXNjcmlwdGlvbjogdmFyaWFudC5uYW1lLFxuICAgIHN0YXR1czogVHJhbnNhY3Rpb25TdGF0dXNlcy5Db21wbGV0ZWQsXG4gICAgbWVtbzogdmFyaWFudC52YXJpYW50TmFtZSxcbiAgfTtcbn1cblxuY2xhc3MgQmVoYXRzZGFhU2NyYXBlciBleHRlbmRzIEJhc2VTY3JhcGVyV2l0aEJyb3dzZXI8U2NyYXBlclNwZWNpZmljQ3JlZGVudGlhbHM+IHtcbiAgcHVibGljIGdldExvZ2luT3B0aW9ucyhjcmVkZW50aWFsczogU2NyYXBlclNwZWNpZmljQ3JlZGVudGlhbHMpOiBMb2dpbk9wdGlvbnMge1xuICAgIHJldHVybiB7XG4gICAgICBsb2dpblVybDogTE9HSU5fVVJMLFxuICAgICAgZmllbGRzOiBbXG4gICAgICAgIHsgc2VsZWN0b3I6ICcjbG9naW5JZCcsIHZhbHVlOiBjcmVkZW50aWFscy5pZCB9LFxuICAgICAgICB7IHNlbGVjdG9yOiAnI2xvZ2luUGFzc3dvcmQnLCB2YWx1ZTogY3JlZGVudGlhbHMucGFzc3dvcmQgfSxcbiAgICAgIF0sXG4gICAgICBjaGVja1JlYWRpbmVzczogYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgd2FpdFVudGlsRWxlbWVudEZvdW5kKHRoaXMucGFnZSwgJyNsb2dpblBhc3N3b3JkJyksXG4gICAgICAgICAgd2FpdFVudGlsRWxlbWVudEZvdW5kKHRoaXMucGFnZSwgJyNsb2dpbklkJyksXG4gICAgICAgIF0pO1xuICAgICAgfSxcbiAgICAgIHBvc3NpYmxlUmVzdWx0czoge1xuICAgICAgICBbTG9naW5SZXN1bHRzLlN1Y2Nlc3NdOiBbYCR7QkFTRV9VUkx9L2BdLFxuICAgICAgICBbTG9naW5SZXN1bHRzLkludmFsaWRQYXNzd29yZF06IFsnLmN1c3RvbS1pbnB1dC1lcnJvci1sYWJlbCddLFxuICAgICAgfSxcbiAgICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHNsZWVwKDEwMDApO1xuICAgICAgICBkZWJ1ZygnVHJ5aW5nIHRvIGZpbmQgc3VibWl0IGJ1dHRvbicpO1xuICAgICAgICBjb25zdCBidXR0b24gPSBhd2FpdCB0aGlzLnBhZ2UuJCgneHBhdGg9Ly9idXR0b25bY29udGFpbnMoLiwgXCLXlNeq15fXkdeo15XXqlwiKV0nKTtcbiAgICAgICAgaWYgKGJ1dHRvbikge1xuICAgICAgICAgIGRlYnVnKCdTdWJtaXQgYnV0dG9uIGZvdW5kJyk7XG4gICAgICAgICAgYXdhaXQgYnV0dG9uLmNsaWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVidWcoJ1N1Ym1pdCBidXR0b24gbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIGFzeW5jIGZldGNoRGF0YSgpOiBQcm9taXNlPFNjcmFwZXJTY3JhcGluZ1Jlc3VsdD4ge1xuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5wYWdlLmV2YWx1YXRlKCgpID0+IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlclRva2VuJykpO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIGRlYnVnKCdUb2tlbiBub3QgZm91bmQgaW4gbG9jYWwgc3RvcmFnZScpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yTWVzc2FnZTogJ1Rva2VuTm90Rm91bmQnLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgRnJvbURhdGU6IG1vbWVudCh0aGlzLm9wdGlvbnMuc3RhcnREYXRlKS5mb3JtYXQoJ1lZWVktTU0tRERUSEg6bW06c3MnKSxcbiAgICAgIFRvRGF0ZTogbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREVEhIOm1tOnNzJyksXG4gICAgICBCZW5lZml0U3RhdHVzSWQ6IG51bGwsXG4gICAgfTtcblxuICAgIGRlYnVnKCdGZXRjaGluZyBkYXRhJyk7XG5cbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaFBvc3RXaXRoaW5QYWdlPFB1cmNoYXNlSGlzdG9yeVJlc3BvbnNlPih0aGlzLnBhZ2UsIFBVUkNIQVNFX0hJU1RPUllfVVJMLCBib2R5LCB7XG4gICAgICAnYXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdvcmdhbml6YXRpb25pZCc6ICcyMCcsXG4gICAgfSk7XG5cbiAgICBkZWJ1ZygnRGF0YSBmZXRjaGVkJyk7XG5cbiAgICBpZiAocmVzPy5lcnJvckRlc2NyaXB0aW9uIHx8IHJlcz8uZGF0YT8uZXJyb3JEZXNjcmlwdGlvbikge1xuICAgICAgZGVidWcoJ0Vycm9yIGZldGNoaW5nIGRhdGEnLCByZXMuZXJyb3JEZXNjcmlwdGlvbiB8fCByZXMuZGF0YT8uZXJyb3JEZXNjcmlwdGlvbik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3JNZXNzYWdlOiByZXMuZXJyb3JEZXNjcmlwdGlvbiB9O1xuICAgIH1cblxuICAgIGlmICghcmVzPy5kYXRhKSB7XG4gICAgICBkZWJ1ZygnTm8gZGF0YSBmb3VuZCcpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yTWVzc2FnZTogJ05vRGF0YScgfTtcbiAgICB9XG5cbiAgICBkZWJ1ZygnRGF0YSBmZXRjaGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgYWNjb3VudHM6IFt7XG4gICAgICAgIGFjY291bnROdW1iZXI6IHJlcy5kYXRhLm1lbWJlcklkLFxuICAgICAgICB0eG5zOiByZXMuZGF0YS52YXJpYW50cy5tYXAodmFyaWFudFRvVHJhbnNhY3Rpb24pLFxuICAgICAgfV0sXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCZWhhdHNkYWFTY3JhcGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLHFCQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxNQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxRQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxhQUFBLEdBQUFMLE9BQUE7QUFDQSxJQUFBTSx1QkFBQSxHQUFBTixPQUFBO0FBQXNHLFNBQUFELHVCQUFBUSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBR3RHLE1BQU1HLFFBQVEsR0FBRyw4QkFBOEI7QUFDL0MsTUFBTUMsU0FBUyxHQUFHLEdBQUdELFFBQVEsUUFBUTtBQUNyQyxNQUFNRSxvQkFBb0IsR0FBRyw2REFBNkQ7QUFFMUYsTUFBTUMsS0FBSyxHQUFHLElBQUFDLGVBQVEsRUFBQyxXQUFXLENBQUM7QUFxQm5DLFNBQVNDLG9CQUFvQkEsQ0FBQ0MsT0FBZ0IsRUFBZTtFQUMzRDtFQUNBLE1BQU1DLGNBQWMsR0FBRyxDQUFDRCxPQUFPLENBQUNFLGFBQWE7RUFDN0MsT0FBTztJQUNMQyxJQUFJLEVBQUVDLDhCQUFnQixDQUFDQyxNQUFNO0lBQzdCQyxVQUFVLEVBQUVOLE9BQU8sQ0FBQ08sY0FBYztJQUNsQ0MsSUFBSSxFQUFFLElBQUFDLGVBQU0sRUFBQ1QsT0FBTyxDQUFDVSxTQUFTLENBQUMs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